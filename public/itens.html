<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>home</title>
    <style>
        h1 {
            color: #00255c;
        }

        h2 {
            color: #2d60ac;
        }

        button {
            height: 30px;
            width: 200px;
            background-color: rgb(222, 236, 255)
        }
    </style>
</head>

<body>
    <center>
        <h1>visão geral</h1>
        <h2>Listagem dos meus amigos</h2>

        <div id="status">Carregando...</div>
        <div id="listas">
            <!-- Lista de pessoas será inserida aqui -->,
        </div>

        <div>
            <button onclick="mostrarFormulario()"> + Adicionar Pessoa</button>
        </div>

        <form>
            <label>Nome:</label>
            <input type="text" id="nome" name="nome" required />


            <label>Login:</label>
            <input type="text" id="login" name="login" required />

            <label>Senha:</label>
            <input type="password" id="senha" name="senha" required />
        </form>

        <script>
            async function carregarPessoas() {

                const response = await fetch("/pessoas");
                //Atualizar div com id = "status"

                const elemento = document.getElementById("status");
                if (!response.ok) {

                    elemento.textContent = "Não foi possível carregar as pessoas.";
                }

                elemento.textContent = "Pessoas carregadas com sucesso!";

                const pessoas = await response.json();
                console.log("\nResponses: ", response, 
                "\n pessoas", pessoas);

                const container = document.getElementById("lista");
                const ul = document.createElement("ul");

                for (let c = 0; i < pessoas.length; c++) {
                    const pessoa = pessoas('c');
                    const texto = `NOME: $(pessoa.nome) -- $(pessoa.login)
                }

            carregarPessoas();
        </script>
    </center>
</body>

</html>